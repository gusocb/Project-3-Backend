(this["webpackJsonpproject-3-frontend"]=this["webpackJsonpproject-3-frontend"]||[]).push([[0],{167:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(36),c=t.n(l),s=(t(85),t(4)),o=(t(86),t(5)),m=t(26),i=(t(14),function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("h1",{className:"title"},"Grow your retail faster with Kwik-E POS software"),r.a.createElement("h2",{className:"subtitle"},"Kwik-E POS is a leading retail POS software in the cloud with everything you need to run & grow your business."))),r.a.createElement("div",{class:"box cta"},r.a.createElement("p",{class:"has-text-centered"},r.a.createElement("span",{class:"tag is-primary"},"Feature")," User roles for differents tasks.")),r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"columns features"},r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady",id:"home-card"},r.a.createElement("div",{className:"card-image has-text-centered"},r.a.createElement("img",{src:"https://images.ctfassets.net/txhaodyqr481/IZHRO10qVci6pUdKOm31A/99ed7d74c8f7221becf37e016071ca39/shutterstock_687139360.jpg?fm=jpg&fl=progressive"})),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,"Controll your sales"),r.a.createElement("p",null," Barcode implementation, organizing your products have never been easier."))))),r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady",id:"home-card"},r.a.createElement("div",{className:"card-image has-text-centered"},r.a.createElement("img",{src:"https://h7f7z2r7.stackpathcdn.com/sites/default/files/images/articles/blakcstonemain.jpg"})),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null," Manage your inventory "),r.a.createElement("p",null,"Mantain your stock updated in real time."))))),r.a.createElement("div",{className:"column is-4"},r.a.createElement("div",{className:"card is-shady",id:"home-card"},r.a.createElement("div",{className:"card-image has-text-centered"},r.a.createElement("img",{src:"https://cdn.aarp.net/content/dam/aarp/home-and-family/family-and-friends/2015-04/1140-Personal-Finance-101-esp.imgcache.revb75b936630f806a6f5a20e0e781f9873.jpg"})),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h4",null," Keep track of your income "),r.a.createElement("p",null,"Generate daily reports of all your sales.")))))),r.a.createElement("div",{className:"intro column is-8 is-offset-2",id:"cfr"},r.a.createElement("h2",{className:"title"},"Perfect POS software for most retail stores"),r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Kwik-E POS is perfect for ."))))}),u=t(73),d=t(6),E=t.n(d),p=function e(){var a=this;Object(u.a)(this,e),this.signup=function(e,t,n,r,l){return a.service.post("/signup",{name:e,lastname:t,store:n,username:r,password:l}).then((function(e){return e.data}))},this.loggedin=function(){return a.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,t){return a.service.post("/login",{username:e,password:t}).then((function(e){return e.data}))},this.logout=function(){return a.service.post("/logout",{}).then((function(e){return e.data}))};var t=E.a.create({baseURL:"https://kwike-pos.herokuapp.com/",withCredentials:!0});this.service=t},f=function(e){var a=new p,t=function(){a.logout().then((function(){e.getUser(null)}))};if(!e.userInSession)return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"./images/logopos.png",alt:"Ironhack Point of Sale"}))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement(o.b,{className:"button is-link is-inverted",to:"/login"},"Login"),r.a.createElement(o.b,{className:"button is-link",to:"/signup"},"Signup")))))));switch(e.userInSession.role){case"admin":return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"./images/logopos.png",alt:"Ironhack Point of Sale"}))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("strong",null,e.userInSession.name,"'s Session")),r.a.createElement(o.b,{className:"navbar-item",to:"/dashboard"},"Dashboard"),r.a.createElement(o.b,{className:"navbar-item",to:"/products"},"Products"),r.a.createElement(o.b,{className:"navbar-item",to:"/sales"},"Sales"),r.a.createElement(o.b,{className:"navbar-item",to:"/users"},"Users"),r.a.createElement(o.b,{className:"navbar-item",to:"/reports"},"Reports")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"button is-danger",onClick:t},"Logout")))))));case"user":return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"./images/logopos.png",alt:"Ironhack Point of Sale"}))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("strong",null,e.userInSession.name,"'s Session")),r.a.createElement(o.b,{className:"navbar-item",to:"/dashboard"},"Dashboard"),r.a.createElement(o.b,{className:"navbar-item",to:"/products"},"Products"),r.a.createElement(o.b,{className:"navbar-item",to:"/sales"},"Sales")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"button is-danger",onClick:t},"Logout")))))))}},b=t(17),v=t(7),h=t.n(v),N=function(e){var a,t,n,l,c=Object(b.a)(),s=c.register,o=c.errors,m=c.handleSubmit;return r.a.createElement("form",{id:"product-add-form",onSubmit:m((function(a){a.store=e.user.store,E.a.post("".concat("https://kwike-pos.herokuapp.com/","/products/add"),a,{withCredentials:!0}).then((function(){e.getData(),h.a.fire({title:"Product Created!",icon:"success"}),document.getElementById("product-add-form").reset()})).catch((function(e){console.log(e),401===e.response.status?h.a.fire({title:"Ups!",text:"Barcode already use",icon:"warning",confirmButtonText:"Try another one"}):h.a.fire({title:"Error!",text:"Something went bad",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Barcode"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{className:"input",name:"barcode",type:"text",ref:s({required:!0})}),o.barcode&&r.a.createElement("p",{className:"error-form"},"A product barcode is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"name",type:"text",ref:s({required:!0})}),o.name&&r.a.createElement("p",{className:"error-form"},"A product name is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Price"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"price",type:"text",ref:s({required:!0,pattern:/[0-9]/})}),"required"===(null===(a=o.price)||void 0===a?void 0:a.type)&&r.a.createElement("p",{className:"error-form"},"A price quantity is required"),"pattern"===(null===(t=o.price)||void 0===t?void 0:t.type)&&r.a.createElement("p",{className:"error-form"},"Must be a number"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Stock"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"stock",type:"text",ref:s({required:!0,pattern:/[0-9]/})}),"required"===(null===(n=o.stock)||void 0===n?void 0:n.type)&&r.a.createElement("p",{className:"error-form"},"A stock quantity is required"),"pattern"===(null===(l=o.stock)||void 0===l?void 0:l.type)&&r.a.createElement("p",{className:"error-form"},"Must be a number"))),r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",className:"button is-primary"},"Add New")))},g=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),l=t[0],c=t[1],m=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/products"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){m()}),[]),"admin"===e.loggedInUser.role?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column",id:"product-table"},r.a.createElement("table",{className:"table is-striped is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Barcode"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Stock"),r.a.createElement("th",{colSpan:"2"},"Actions"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.barcode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.stock),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-info is-outlined is-small"},r.a.createElement(o.b,{to:"products/detail/"+e._id},"Details"))))}))))),r.a.createElement("div",{className:"column"},r.a.createElement(N,{user:e.loggedInUser,getData:m})))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("table",{className:"table is-striped is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Barcode"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Stock"),r.a.createElement("th",{colSpan:"2"},"Actions"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.barcode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.stock),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-info is-outlined is-small"},r.a.createElement(o.b,{to:"products/detail/"+e._id},"Details"))))})))))))},w=function(){var e=Object(m.h)().id,a=Object(m.g)(),t=Object(n.useState)({barcode:"",name:"",price:"",stock:""}),l=Object(s.a)(t,2),c=l[0],i=l[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/products/detail/").concat(e),{withCredentials:!0}).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))},d=function(){E.a.delete("".concat("https://kwike-pos.herokuapp.com/","/products/detail/").concat(e),{withCredentials:!0}).then((function(){a.push("/products")})).catch((function(e){console.log(e)}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-2"},c.name),r.a.createElement("p",{className:"subtitle is-2"},c.barcode),r.a.createElement("p",{className:"title is-3"},"$",c.price),r.a.createElement("p",{className:"subtitle is-3"},"Stock: ",c.stock," units")),r.a.createElement("footer",{class:"card-footer"},r.a.createElement("button",{className:"card-footer-item button is-link is-outlined"},r.a.createElement(o.b,{to:"/products/update/"+e},"Edit")),r.a.createElement("button",{onClick:function(){h.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&(d(),h.a.fire("Deleted!","Your product has been deleted.","success"))}))},className:"card-footer-item button is-danger is-outlined"},"Delete"))))},y=function(){var e,a,t,l,c=Object(m.h)().id,o=Object(m.g)(),i=Object(b.a)(),u=i.register,d=i.errors,p=i.handleSubmit,f=Object(n.useState)({barcode:"",name:"",price:"",stock:""}),v=Object(s.a)(f,2),N=v[0],g=v[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/products/detail/").concat(c),{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(e){return console.log(e)}))};return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:p((function(e){E.a.put("".concat("https://kwike-pos.herokuapp.com/","/products/detail/").concat(c),e,{withCredentials:!0}).then((function(){h.a.fire({title:"Product updated",icon:"success"}).then((function(e){e.value&&o.push("/products/detail/".concat(c))}))})).catch((function(e){return console.log(e)}))})),className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Barcode"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{className:"input",name:"barcode",type:"text",defaultValue:N.barcode,ref:u({required:!0})}),d.barcode&&r.a.createElement("p",{className:"error-form"},"A product barcode is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"name",type:"text",defaultValue:N.name,ref:u({required:!0})}),d.name&&r.a.createElement("p",{className:"error-form"},"A product name is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Price"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"price",type:"text",defaultValue:N.price,ref:u({required:!0,pattern:/[0-9]/})}),"required"===(null===(e=d.price)||void 0===e?void 0:e.type)&&r.a.createElement("p",{className:"error-form"},"A price quantity is required"),"pattern"===(null===(a=d.price)||void 0===a?void 0:a.type)&&r.a.createElement("p",{className:"error-form"},"Must be a number"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Stock"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"stock",type:"text",defaultValue:N.stock,ref:u({required:!0,pattern:/[0-9]/})}),"required"===(null===(t=d.stock)||void 0===t?void 0:t.type)&&r.a.createElement("p",{className:"error-form"},"A stock quantity is required"),"pattern"===(null===(l=d.stock)||void 0===l?void 0:l.type)&&r.a.createElement("p",{className:"error-form"},"Must be a number"))),r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",className:"button is-primary"},"Update product"))))},k=t(11),x=t(10),S=function(e){var a=Object(n.useState)({search:""}),t=Object(s.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),m=Object(s.a)(o,2),i=m[0],u=m[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),f=p[0],b=p[1],v=Object(n.useState)(0),N=Object(s.a)(v,2),g=N[0],w=N[1];Object(n.useEffect)((function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/products"),{withCredentials:!0}).then((function(e){u(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){!function(){var e=0;f.forEach((function(a){e+=a.subtotal})),w(e)}()}));return r.a.createElement("div",{className:"hero"},r.a.createElement("div",{class:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-parent",id:"sale-table"},r.a.createElement("div",{className:"tile is-child"},r.a.createElement("table",{className:"table is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Stock"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Subtotal"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,f.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.newStock),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-primary is-light is-small"},"-"),e.quantity,r.a.createElement("button",{className:"button is-primary is-light is-small"},"+")),r.a.createElement("td",null,"$",e.subtotal),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-danger is-small"},"Delete")))})))))),r.a.createElement("div",{className:"tile is-parent is-4 is-vertical"},r.a.createElement("div",{className:"tile is-child"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=i.filter((function(e){return e.barcode===l.search}));if(c({search:""}),a[0])if(f.filter((function(e){return e._id===a[0]._id})).length>0){var t=f.map((function(e){return e._id===a[0]._id?(e.quantity++,e.subtotal=e.quantity*e.price,e.newStock=e.stock-e.quantity,e):e}));b(t)}else a[0].quantity=1,a[0].subtotal=a[0].price,a[0].newStock=a[0].stock-a[0].quantity,b([a[0]].concat(Object(k.a)(f)));else h.a.fire({title:"Ups!",text:"Enter a valid barcode",icon:"warning"})}},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"search",value:l.search,onChange:function(e){return function(e){var a=e.target,t=a.name,n=a.value;c(Object.assign({},l,Object(x.a)({},t,n)))}(e)},placeholder:"Barcode here"})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",class:"button is-info"},"Search"))))),r.a.createElement("div",{className:"tile is-child box"},r.a.createElement("p",{className:"title is-1"},"Total: $",g),r.a.createElement("button",{className:"button is-primary",onClick:function(){var a=new Object;a.sale=f,a.total=g,a.salesMan=e.loggedInUser._id,a.store=e.loggedInUser.store,E.a.post("http://localhost:5000/api/checkout",a,{withCredentials:!0}).then((function(){b([])})).catch((function(e){return console.log(e)}))}},"Checkout")))))))},q=function(e){var a,t,n,l,c=new p,s=Object(m.g)(),i=Object(b.a)(),u=i.register,d=i.errors,E=i.handleSubmit;return r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},r.a.createElement("form",{onSubmit:E((function(a){var t=a.name,n=a.lastname,r=a.store,l=a.username,o=a.password;c.signup(t,n,r,l,o).then((function(a){e.getUser(a)})).then((function(){return s.push("/dashboard")})).catch((function(e){console.log(e),401===e.response.status?h.a.fire({title:"Error!",text:"Email already asociated with another account",icon:"warning",confirmButtonText:"Try another one"}):h.a.fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"name",placeholder:"Frodo",ref:u({required:!0})}),d.name&&r.a.createElement("p",{className:"error-form"},"A name is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Lastname"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"lastname",placeholder:"Baggins",ref:u({required:!0})}),d.lastname&&r.a.createElement("p",{className:"error-form"},"A lastname is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Store name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"store",placeholder:"The Green Dragon",ref:u({required:!0})}),d.store&&r.a.createElement("p",{className:"error-form"},"A store name is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"example@mail.com",ref:u({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(a=d.username)||void 0===a?void 0:a.type)&&r.a.createElement("p",{className:"error-form"},"An email is required"),"pattern"===(null===(t=d.username)||void 0===t?void 0:t.type)&&r.a.createElement("p",{className:"error-form"},"That's not a valid email"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Must be 8 or more characters",ref:u({required:!0,minLength:8})}),"required"===(null===(n=d.password)||void 0===n?void 0:n.type)&&r.a.createElement("p",{className:"error-form"},"A password is required"),"minLength"===(null===(l=d.password)||void 0===l?void 0:l.type)&&r.a.createElement("p",{className:"error-form"},"Must be 8 characters at least"))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link",type:"submit"},"Signup"))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("p",null,"Already have an account?",r.a.createElement(o.b,{to:"/login"}," Login"))))))))))},O=function(e){var a,t,n=new p,l=Object(m.g)(),c=Object(b.a)(),s=c.register,i=c.errors,u=c.handleSubmit;return r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},r.a.createElement("form",{onSubmit:u((function(a){var t=a.username,r=a.password;n.login(t,r).then((function(a){e.getUser(a)})).then((function(){return l.push("/dashboard")})).catch((function(e){console.log(e),h.a.fire({title:"Can't login!",text:"Email or password incorrect",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"example@mail.com",ref:s({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(a=i.username)||void 0===a?void 0:a.type)&&r.a.createElement("p",{className:"error-form"},"Email is required"),"pattern"===(null===(t=i.username)||void 0===t?void 0:t.type)&&r.a.createElement("p",{className:"error-form"},"That's not a valid email"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Your password here",ref:s({required:!0})}),i.password&&r.a.createElement("p",{className:"error-form"},"Password is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link is-light",type:"submit"},"Login"))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("p",null,"Don't have an account?",r.a.createElement(o.b,{to:"/signup"}," Signup"))))))))))},j=t(75),A=t(79),C=function(e){var a=e.component,t=e.user,n=Object(A.a)(e,["component","user"]);return console.log(Object(j.a)({component:a,user:t},n)),r.a.createElement(m.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,Object.assign({},e,{loggedInUser:t})):r.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))},U=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-content"},r.a.createElement("div",{class:"media"},r.a.createElement("div",{class:"media-left"},r.a.createElement("figure",{class:"image is-48x48"},r.a.createElement("img",{src:"https://bulma.io/images/placeholders/96x96.png",alt:"Placeholder image"}))),r.a.createElement("div",{class:"media-content"},r.a.createElement("p",{class:"title is-4"},e.loggedInUser.name," ",e.loggedInUser.lastname),r.a.createElement("p",{class:"subtitle is-6"},"admin"===e.loggedInUser.role?"Administrator":"User"))),r.a.createElement("div",{class:"content"},r.a.createElement("p",{class:"title is-5"},e.loggedInUser.store),r.a.createElement("p",{class:"subtitle is-6"},"Email: ",e.loggedInUser.username)))))},P=function(e){var a,t,n,l,c=Object(b.a)(),s=c.register,o=c.errors,m=c.handleSubmit;return r.a.createElement("form",{id:"user-add-form",onSubmit:m((function(a){a.store=e.user.store,E.a.post("".concat("https://kwike-pos.herokuapp.com/","/users/add"),a,{withCredentials:!0}).then((function(){e.getData(),h.a.fire({title:"User Created!",icon:"success"}),document.getElementById("user-add-form").reset()})).catch((function(e){console.log(e),401===e.response.status?h.a.fire({title:"Wow!",text:"Email already asociated with another account",icon:"warning",confirmButtonText:"Try another one"}):h.a.fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{className:"input",name:"name",type:"text",ref:s({required:!0})}),o.name&&r.a.createElement("p",{className:"error-form"},"A name is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Lastname"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"lastname",type:"text",ref:s({required:!0})}),o.lastname&&r.a.createElement("p",{className:"error-form"},"A lastname is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"username",type:"text",ref:s({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(a=o.username)||void 0===a?void 0:a.type)&&r.a.createElement("p",{className:"error-form"},"An email is required"),"pattern"===(null===(t=o.username)||void 0===t?void 0:t.type)&&r.a.createElement("p",{className:"error-form"},"That's not a valid email"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"password",type:"password",ref:s({required:!0,minLength:8})}),"required"===(null===(n=o.password)||void 0===n?void 0:n.type)&&r.a.createElement("p",{className:"error-form"},"An password is required"),"minLength"===(null===(l=o.password)||void 0===l?void 0:l.type)&&r.a.createElement("p",{className:"error-form"},"Must be 8 characters at least"))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Role"),r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select"},r.a.createElement("select",{name:"role",ref:s({required:!0})},r.a.createElement("option",{value:""},"Select an option"),r.a.createElement("option",{value:"user"},"User"),r.a.createElement("option",{value:"admin"},"Admin")),o.role&&r.a.createElement("p",{className:"error-form"},"Please select a role")))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",className:"button is-primary"},"Add New"))))},B=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),l=t[0],c=t[1],m=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/users"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){m()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column",id:"user-table"},r.a.createElement("table",{className:"table is-striped is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,"admin"===e.role?"Administrator":"User"),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-info is-outlined is-small"},r.a.createElement(o.b,{to:"users/detail/"+e._id},"Details"))))}))))),r.a.createElement("div",{className:"column"},r.a.createElement(P,{user:e.loggedInUser,getData:m}))))},T=function(){var e=Object(m.h)().id,a=Object(m.g)(),t=Object(n.useState)([{name:"",lastname:"",store:"",username:"",password:"",role:""}]),l=Object(s.a)(t,2),c=l[0],i=l[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/users/detail/").concat(e),{withCredentials:!0}).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-"},c.store),r.a.createElement("p",{className:"title is-2"},c.name),r.a.createElement("p",{className:"subtitle is-2"},c.lastname),r.a.createElement("p",{className:"title is-3"},c.username),r.a.createElement("p",{className:"subtitle is-3"},"admin"===c.role?"Administrator":"User")),r.a.createElement("footer",{class:"card-footer"},r.a.createElement("button",{className:"card-footer-item button is-link is-outlined"},r.a.createElement(o.b,{to:"/users/update/"+e},"Edit")),r.a.createElement("button",{onClick:function(){h.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(E.a.delete("".concat("https://kwike-pos.herokuapp.com/","/users/detail/").concat(e),{withCredentials:!0}).then((function(){a.push("/users")})).catch((function(e){console.log(e)})),h.a.fire("Deleted!","The user has been deleted.","success"))}))},className:"card-footer-item button is-danger is-outlined"},"Delete"))))},I=function(){var e,a,t,l,c=Object(m.h)().id,o=Object(m.g)(),i=Object(b.a)(),u=i.register,d=i.errors,p=i.handleSubmit,f=Object(n.useState)({name:"",lastname:"",username:"",password:"",role:""}),v=Object(s.a)(f,2),N=v[0],g=v[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/users/detail/").concat(c),{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(e){return console.log(e)}))};return r.a.createElement("div",{className:"container"},r.a.createElement("form",{id:"user-add-form",onSubmit:p((function(e){E.a.put("".concat("https://kwike-pos.herokuapp.com/","/users/detail/").concat(c),e,{withCredentials:!0}).then((function(){h.a.fire({title:"User updated",icon:"success"}).then((function(e){e.value&&o.push("/users/detail/".concat(c))}))})).catch((function(e){return console.log(e)}))})),className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{className:"input",name:"name",type:"text",defaultValue:N.name,ref:u({required:!0})}),d.name&&r.a.createElement("p",{className:"error-form"},"A name is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Lastname"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"lastname",type:"text",defaultValue:N.lastname,ref:u({required:!0})}),d.lastname&&r.a.createElement("p",{className:"error-form"},"A lastname is required"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"username",type:"text",defaultValue:N.username,ref:u({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(e=d.username)||void 0===e?void 0:e.type)&&r.a.createElement("p",{className:"error-form"},"An email is required"),"pattern"===(null===(a=d.username)||void 0===a?void 0:a.type)&&r.a.createElement("p",{className:"error-form"},"That's not a valid email"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"password",type:"password",defaultValue:N.password,ref:u({required:!0,minLength:8})}),"required"===(null===(t=d.password)||void 0===t?void 0:t.type)&&r.a.createElement("p",{className:"error-form"},"An password is required"),"minLength"===(null===(l=d.password)||void 0===l?void 0:l.type)&&r.a.createElement("p",{className:"error-form"},"Must be 8 characters at least"))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Role"),r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select"},r.a.createElement("select",{name:"role",ref:u({required:!0})},r.a.createElement("option",{value:""},"Select an option"),r.a.createElement("option",{value:"user"},"User"),r.a.createElement("option",{value:"admin"},"Admin")),r.a.createElement("span",null,d.role&&r.a.createElement("p",{className:"error-form"},"Please select a role"))))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",className:"button is-primary"},"Update User")))))},D=t(76),$=t.n(D),L=(t(109),function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(new Date),m=Object(s.a)(o,2),i=m[0],u=m[1],d=Object(n.useState)(0),p=Object(s.a)(d,2),f=p[0],b=p[1];Object(n.useEffect)((function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/","/sales"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[]);var v=l.map((function(e){return e.convertedTime=new Date(e.createdAt).setHours(0,0,0,0),e})).filter((function(e){return e.convertedTime===i.setHours(0,0,0,0)}));return Object(n.useEffect)((function(){!function(){var e=0;v.forEach((function(a){e+=a.total})),b(e)}()})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"title is-2"},"All sales"),r.a.createElement("div",{className:"container",id:"reports-sale-column"},l.map((function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"subtitle is-3"},"Sale ",e._id),r.a.createElement("table",{className:"table is-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Barcode"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Subtotal"))),e.sale.map((function(e){return r.a.createElement("tbody",null,r.a.createElement("td",null,e.barcode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,"$",e.subtotal))})),r.a.createElement("p",null,"Total $",e.total),r.a.createElement("p",null,"Made by ",e.salesMan.name),r.a.createElement("p",null," ",e.createdAt))))})))),r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"title is-2"},"Sales by date"),r.a.createElement("p",{className:"title is-4"},"Pick a date"),r.a.createElement($.a,{selected:i,onChange:function(e){return u(e)}}),r.a.createElement("div",{id:"reports-table"},r.a.createElement("table",{className:"table is-striped is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sale ID"),r.a.createElement("th",null,"Total Sale"))),r.a.createElement("tbody",null,v.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,"$",e.total))}))))),r.a.createElement("p",{className:"title is-3"},"Day's Sales: $",f))))}),_=function(e){return r.a.createElement("footer",{id:"general-footer"},r.a.createElement("div",{class:"content has-text-centered"},r.a.createElement("p",null,r.a.createElement("strong",null,"Kwik-E POS")," by ",r.a.createElement("a",{href:"https://github.com/gusocb"},"Gustavo Cruz"),". Ironhack 2020.")))};var M=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],l=a[1],c=new p,u=function(e){l(e)};return null===t&&c.loggedin().then((function(e){l(e)})).catch((function(e){l(!1)})),t?r.a.createElement(o.a,null,r.a.createElement(f,{getUser:u,userInSession:t}),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:i}),r.a.createElement(C,{user:t,path:"/products",exact:!0,component:g}),r.a.createElement(C,{user:t,path:"/products/detail/:id",exact:!0,component:w}),r.a.createElement(C,{user:t,path:"/products/update/:id",exact:!0,component:y}),r.a.createElement(C,{user:t,path:"/sales",exact:!0,component:S}),r.a.createElement(C,{user:t,path:"/dashboard",exact:!0,component:U}),r.a.createElement(C,{user:t,path:"/users",exact:!0,component:B}),r.a.createElement(C,{user:t,path:"/users/detail/:id",exact:!0,component:T}),r.a.createElement(C,{user:t,path:"/users/update/:id",exact:!0,component:I}),r.a.createElement(C,{user:t,path:"/reports",exact:!0,component:L})),r.a.createElement(_,null)):r.a.createElement(o.a,null,r.a.createElement(f,{userInSession:t}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(q,{getUser:u})}}),r.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(O,{getUser:u})}}),r.a.createElement(m.b,{path:"/",exact:!0,component:i}),r.a.createElement(C,{user:t,path:"/products",exact:!0,component:g}),r.a.createElement(C,{user:t,path:"/products/detail/:id",exact:!0,component:w}),r.a.createElement(C,{user:t,path:"/products/update/:id",exact:!0,component:y}),r.a.createElement(C,{user:t,path:"/sales",exact:!0,component:S}),r.a.createElement(C,{user:t,path:"/dashboard",exact:!0,component:U}),r.a.createElement(C,{user:t,path:"/users",exact:!0,component:B}),r.a.createElement(C,{user:t,path:"/users/detail/:id",exact:!0,component:T}),r.a.createElement(C,{user:t,path:"/users/update/:id",exact:!0,component:I}),r.a.createElement(C,{user:t,path:"/reports",exact:!0,component:L})),r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,a,t){e.exports=t(167)},85:function(e,a,t){},86:function(e,a,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.9ecc05ec.chunk.js.map