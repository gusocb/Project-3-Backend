(this["webpackJsonpproject-3-frontend"]=this["webpackJsonpproject-3-frontend"]||[]).push([[0],{167:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(36),c=t.n(r),s=(t(85),t(5)),i=(t(86),t(4)),m=t(26),o=(t(14),function(e){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"hero is-link is-medium"},l.a.createElement("div",{className:"hero-body is-medium",id:"home-hero-body"},l.a.createElement("div",{className:"container has-text-centered"},l.a.createElement("h1",{className:"title"},"Grow your retail faster with Kwik-E POS software"),l.a.createElement("h2",{className:"subtitle"},"Kwik-E POS is a leading retail POS software in the cloud with everything you need to run & grow your business.")))),l.a.createElement("div",{className:"hero",id:"hero-home-body"},l.a.createElement("div",{class:"box cta"},l.a.createElement("p",{class:"has-text-centered"},l.a.createElement("span",{class:"tag is-primary"},"Feature")," User roles for differents tasks.")),l.a.createElement("section",{className:"container"},l.a.createElement("div",{className:"columns features"},l.a.createElement("div",{className:"column is-4"},l.a.createElement("div",{className:"card is-shady",id:"home-card"},l.a.createElement("div",{className:"card-image has-text-centered",id:"home-card-image"},l.a.createElement("img",{src:"https://images.ctfassets.net/txhaodyqr481/IZHRO10qVci6pUdKOm31A/99ed7d74c8f7221becf37e016071ca39/shutterstock_687139360.jpg?fm=jpg&fl=progressive",id:"home-card-img"})),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"content"},l.a.createElement("h4",null,"Controll your sales"),l.a.createElement("p",null," Barcode implementation, organizing your products have never been easier."))))),l.a.createElement("div",{className:"column is-4"},l.a.createElement("div",{className:"card is-shady",id:"home-card"},l.a.createElement("div",{className:"card-image has-text-centered",id:"home-card-image"},l.a.createElement("img",{src:"https://h7f7z2r7.stackpathcdn.com/sites/default/files/images/articles/blakcstonemain.jpg",id:"home-card-img"})),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"content"},l.a.createElement("h4",null," Manage your inventory "),l.a.createElement("p",null,"Mantain your stock updated in real time."))))),l.a.createElement("div",{className:"column is-4"},l.a.createElement("div",{className:"card is-shady",id:"home-card"},l.a.createElement("div",{className:"card-image has-text-centered",id:"home-card-image"},l.a.createElement("img",{src:"https://cdn.aarp.net/content/dam/aarp/home-and-family/family-and-friends/2015-04/1140-Personal-Finance-101-esp.imgcache.revb75b936630f806a6f5a20e0e781f9873.jpg",id:"home-card-img"})),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"content"},l.a.createElement("h4",null," Keep track of your income "),l.a.createElement("p",null,"Generate daily reports of all your sales.")))))),l.a.createElement("div",{className:"intro column is-8 is-offset-2",id:"cfr"},l.a.createElement("h2",{className:"title"},"Perfect POS software for most retail stores"),l.a.createElement("br",null),l.a.createElement("p",{className:"subtitle"},"Kwik-E POS is perfect for .")))))}),u=t(73),d=t(6),E=t.n(d),p=function e(){var a=this;Object(u.a)(this,e),this.signup=function(e,t,n,l,r){return a.service.post("/signup",{name:e,lastname:t,store:n,username:l,password:r}).then((function(e){return e.data}))},this.loggedin=function(){return a.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,t){return a.service.post("/login",{username:e,password:t}).then((function(e){return e.data}))},this.logout=function(){return a.service.post("/logout",{}).then((function(e){return e.data}))};var t=E.a.create({baseURL:"https://kwike-pos.herokuapp.com/api",withCredentials:!0});this.service=t},f=function(e){var a=new p,t=function(){a.logout().then((function(){e.getUser(null)}))};if(!e.userInSession)return l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/"},l.a.createElement("img",{src:"./images/logopos.png",alt:"Ironhack Point of Sale"}))),l.a.createElement("div",{className:"navbar-menu"},l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},l.a.createElement(i.b,{className:"button is-link is-inverted",to:"/login"},"Login"),l.a.createElement(i.b,{className:"button is-link",to:"/signup"},"Signup")))))));switch(e.userInSession.role){case"admin":return l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/"},l.a.createElement("img",{src:"./images/logopos.png",alt:"Ironhack Point of Sale"}))),l.a.createElement("div",{className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("strong",null,e.userInSession.name,"'s Session")),l.a.createElement(i.b,{className:"navbar-item",to:"/dashboard"},"Profile"),l.a.createElement(i.b,{className:"navbar-item",to:"/products"},"Products"),l.a.createElement(i.b,{className:"navbar-item",to:"/sales"},"Sales"),l.a.createElement(i.b,{className:"navbar-item",to:"/users"},"Users"),l.a.createElement(i.b,{className:"navbar-item",to:"/reports"},"Reports")),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{className:"button is-danger",onClick:t},"Logout")))))));case"user":return l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/"},l.a.createElement("img",{src:"./images/logopos.png",alt:"Ironhack Point of Sale"}))),l.a.createElement("div",{className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("strong",null,e.userInSession.name,"'s Session")),l.a.createElement(i.b,{className:"navbar-item",to:"/dashboard"},"Dashboard"),l.a.createElement(i.b,{className:"navbar-item",to:"/products"},"Products"),l.a.createElement(i.b,{className:"navbar-item",to:"/sales"},"Sales")),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{className:"button is-danger",onClick:t},"Logout")))))))}},b=t(17),h=t(7),v=t.n(h),N=function(e){var a,t,n,r,c=Object(b.a)(),s=c.register,i=c.errors,m=c.handleSubmit;return l.a.createElement("form",{id:"product-add-form",onSubmit:m((function(a){a.store=e.user.store,E.a.post("".concat("https://kwike-pos.herokuapp.com/api","/products/add"),a,{withCredentials:!0}).then((function(){e.getData(),v.a.fire({title:"Product Created!",icon:"success"}),document.getElementById("product-add-form").reset()})).catch((function(e){console.log(e),401===e.response.status?v.a.fire({title:"Ups!",text:"Barcode already use",icon:"warning",confirmButtonText:"Try another one"}):v.a.fire({title:"Error!",text:"Something went bad",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Barcode"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"barcode",type:"text",ref:s({required:!0})}),i.barcode&&l.a.createElement("p",{className:"error-form"},"A product barcode is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"name",type:"text",ref:s({required:!0})}),i.name&&l.a.createElement("p",{className:"error-form"},"A product name is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Price"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"price",type:"text",ref:s({required:!0,pattern:/[0-9]/})}),"required"===(null===(a=i.price)||void 0===a?void 0:a.type)&&l.a.createElement("p",{className:"error-form"},"A price quantity is required"),"pattern"===(null===(t=i.price)||void 0===t?void 0:t.type)&&l.a.createElement("p",{className:"error-form"},"Must be a number"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Stock"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"stock",type:"text",ref:s({required:!0,pattern:/[0-9]/})}),"required"===(null===(n=i.stock)||void 0===n?void 0:n.type)&&l.a.createElement("p",{className:"error-form"},"A stock quantity is required"),"pattern"===(null===(r=i.stock)||void 0===r?void 0:r.type)&&l.a.createElement("p",{className:"error-form"},"Must be a number"))),l.a.createElement("div",{class:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary"},"Add New")))},g=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),r=t[0],c=t[1],m=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/products"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){m()}),[]),"admin"===e.loggedInUser.role?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column",id:"product-table"},l.a.createElement("table",{className:"table is-striped is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Barcode"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",{colSpan:"2"},"Actions"))),l.a.createElement("tbody",null,r.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.barcode),l.a.createElement("td",null,e.name),l.a.createElement("td",null,"$",e.price),l.a.createElement("td",null,e.stock),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-info is-outlined is-small"},l.a.createElement(i.b,{to:"products/detail/"+e._id},"Details"))))}))))),l.a.createElement("div",{className:"column"},l.a.createElement(N,{user:e.loggedInUser,getData:m})))):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("table",{className:"table is-striped is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Barcode"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",{colSpan:"2"},"Actions"))),l.a.createElement("tbody",null,r.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.barcode),l.a.createElement("td",null,e.name),l.a.createElement("td",null,"$",e.price),l.a.createElement("td",null,e.stock),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-info is-outlined is-small"},l.a.createElement(i.b,{to:"products/detail/"+e._id},"Details"))))})))))))},w=function(){var e=Object(m.h)().id,a=Object(m.g)(),t=Object(n.useState)({barcode:"",name:"",price:"",stock:""}),r=Object(s.a)(t,2),c=r[0],o=r[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/products/detail/").concat(e),{withCredentials:!0}).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))},d=function(){E.a.delete("".concat("https://kwike-pos.herokuapp.com/api","/products/detail/").concat(e),{withCredentials:!0}).then((function(){a.push("/products")})).catch((function(e){console.log(e)}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-7"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"title is-2"},"Product name: ",c.name),l.a.createElement("p",{className:"subtitle is-2"},"Barcode: ",c.barcode),l.a.createElement("p",{className:"title is-3"},"Price: $",c.price),l.a.createElement("p",{className:"subtitle is-3"},"Stock: ",c.stock," units")),l.a.createElement("footer",{class:"card-footer"},l.a.createElement("button",{className:"card-footer-item button is-link is-outlined"},l.a.createElement(i.b,{to:"/products/update/"+e},"Edit")),l.a.createElement("button",{onClick:function(){v.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&(d(),v.a.fire("Deleted!","Your product has been deleted.","success"))}))},className:"card-footer-item button is-danger is-outlined"},"Delete"))))))},y=function(){var e,a,t,r,c=Object(m.h)().id,i=Object(m.g)(),o=Object(b.a)(),u=o.register,d=o.errors,p=o.handleSubmit,f=Object(n.useState)({barcode:"",name:"",price:"",stock:""}),h=Object(s.a)(f,2),N=h[0],g=h[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/products/detail/").concat(c),{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(e){return console.log(e)}))};return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:p((function(e){E.a.put("".concat("https://kwike-pos.herokuapp.com/api","/products/detail/").concat(c),e,{withCredentials:!0}).then((function(){v.a.fire({title:"Product updated",icon:"success"}).then((function(e){e.value&&i.push("/products/detail/".concat(c))}))})).catch((function(e){return console.log(e)}))})),className:"box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Barcode"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"barcode",type:"text",defaultValue:N.barcode,ref:u({required:!0})}),d.barcode&&l.a.createElement("p",{className:"error-form"},"A product barcode is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"name",type:"text",defaultValue:N.name,ref:u({required:!0})}),d.name&&l.a.createElement("p",{className:"error-form"},"A product name is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Price"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"price",type:"text",defaultValue:N.price,ref:u({required:!0,pattern:/[0-9]/})}),"required"===(null===(e=d.price)||void 0===e?void 0:e.type)&&l.a.createElement("p",{className:"error-form"},"A price quantity is required"),"pattern"===(null===(a=d.price)||void 0===a?void 0:a.type)&&l.a.createElement("p",{className:"error-form"},"Must be a number"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Stock"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"stock",type:"text",defaultValue:N.stock,ref:u({required:!0,pattern:/[0-9]/})}),"required"===(null===(t=d.stock)||void 0===t?void 0:t.type)&&l.a.createElement("p",{className:"error-form"},"A stock quantity is required"),"pattern"===(null===(r=d.stock)||void 0===r?void 0:r.type)&&l.a.createElement("p",{className:"error-form"},"Must be a number"))),l.a.createElement("div",{class:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary"},"Update product"))))},k=t(11),x=t(10),S=function(e){var a=Object(n.useState)({search:""}),t=Object(s.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)([]),m=Object(s.a)(i,2),o=m[0],u=m[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),f=p[0],b=p[1],h=Object(n.useState)(0),N=Object(s.a)(h,2),g=N[0],w=N[1];Object(n.useEffect)((function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/products"),{withCredentials:!0}).then((function(e){u(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){!function(){var e=0;f.forEach((function(a){e+=a.subtotal})),w(e)}()}));var y=function(e,a){var t=f.map((function(t,n){return n===e&&(t.quantity+=a,t.subtotal=t.quantity*t.price,t.newStock=t.stock-t.quantity),t}));b(t)};return l.a.createElement("div",{className:"hero"},l.a.createElement("div",{class:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"tile is-ancestor"},l.a.createElement("div",{className:"tile is-parent",id:"sale-table"},l.a.createElement("div",{className:"tile is-child"},l.a.createElement("table",{className:"table is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Subtotal"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,f.map((function(e,a){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,"$",e.price),l.a.createElement("td",null,e.newStock),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-primary is-light is-small",onClick:function(){return y(a,-1)}},"-"),e.quantity,l.a.createElement("button",{className:"button is-primary is-light is-small",onClick:function(){return y(a,1)}},"+")),l.a.createElement("td",null,"$",e.subtotal),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-danger is-small",onClick:function(){return function(e){var a=f.filter((function(a,t){return t!==e}));b(a)}(a)}},"Delete")))})))))),l.a.createElement("div",{className:"tile is-parent is-4 is-vertical"},l.a.createElement("div",{className:"tile is-child"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=o.filter((function(e){return e.barcode===r.search}));if(c({search:""}),a[0])if(f.filter((function(e){return e._id===a[0]._id})).length>0){var t=f.map((function(e){return e._id===a[0]._id?(e.quantity++,e.subtotal=e.quantity*e.price,e.newStock=e.stock-e.quantity,e):e}));b(t)}else a[0].quantity=1,a[0].subtotal=a[0].price,a[0].newStock=a[0].stock-a[0].quantity,b([a[0]].concat(Object(k.a)(f)));else v.a.fire({title:"Ups!",text:"Enter a valid barcode",icon:"warning"})}},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"search",value:r.search,onChange:function(e){return function(e){var a=e.target,t=a.name,n=a.value;c(Object.assign({},r,Object(x.a)({},t,n)))}(e)},placeholder:"Barcode here"})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{type:"submit",class:"button is-info"},"Search"))))),l.a.createElement("div",{className:"tile is-child box"},l.a.createElement("p",{className:"title is-1"},"Total: $",g),l.a.createElement("button",{className:"button is-primary",onClick:function(){var a=new Object;a.sale=f,a.total=g,a.salesMan=e.loggedInUser._id,a.store=e.loggedInUser.store,E.a.post("http://localhost:5000/api/checkout",a,{withCredentials:!0}).then((function(){b([])})).catch((function(e){return console.log(e)}))}},"Checkout")))))))},O=function(e){var a,t,n,r,c=new p,s=Object(m.g)(),o=Object(b.a)(),u=o.register,d=o.errors,E=o.handleSubmit;return l.a.createElement("section",{className:"hero"},l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},l.a.createElement("form",{onSubmit:E((function(a){var t=a.name,n=a.lastname,l=a.store,r=a.username,i=a.password;c.signup(t,n,l,r,i).then((function(a){e.getUser(a)})).then((function(){return s.push("/dashboard")})).catch((function(e){console.log(e),401===e.response.status?v.a.fire({title:"Error!",text:"Email already asociated with another account",icon:"warning",confirmButtonText:"Try another one"}):v.a.fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",name:"name",placeholder:"Frodo",ref:u({required:!0})}),d.name&&l.a.createElement("p",{className:"error-form"},"A name is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Lastname"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",name:"lastname",placeholder:"Baggins",ref:u({required:!0})}),d.lastname&&l.a.createElement("p",{className:"error-form"},"A lastname is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Store name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",name:"store",placeholder:"The Green Dragon",ref:u({required:!0})}),d.store&&l.a.createElement("p",{className:"error-form"},"A store name is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"example@mail.com",ref:u({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(a=d.username)||void 0===a?void 0:a.type)&&l.a.createElement("p",{className:"error-form"},"An email is required"),"pattern"===(null===(t=d.username)||void 0===t?void 0:t.type)&&l.a.createElement("p",{className:"error-form"},"That's not a valid email"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Must be 8 or more characters",ref:u({required:!0,minLength:8})}),"required"===(null===(n=d.password)||void 0===n?void 0:n.type)&&l.a.createElement("p",{className:"error-form"},"A password is required"),"minLength"===(null===(r=d.password)||void 0===r?void 0:r.type)&&l.a.createElement("p",{className:"error-form"},"Must be 8 characters at least"))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",type:"submit"},"Signup"))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("p",null,"Already have an account?",l.a.createElement(i.b,{to:"/login"}," Login"))))))))))},q=function(e){var a,t,n=new p,r=Object(m.g)(),c=Object(b.a)(),s=c.register,o=c.errors,u=c.handleSubmit;return l.a.createElement("section",{className:"hero"},l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},l.a.createElement("form",{onSubmit:u((function(a){var t=a.username,l=a.password;n.login(t,l).then((function(a){e.getUser(a)})).then((function(){return r.push("/dashboard")})).catch((function(e){console.log(e),v.a.fire({title:"Can't login!",text:"Email or password incorrect",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"example@mail.com",ref:s({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(a=o.username)||void 0===a?void 0:a.type)&&l.a.createElement("p",{className:"error-form"},"Email is required"),"pattern"===(null===(t=o.username)||void 0===t?void 0:t.type)&&l.a.createElement("p",{className:"error-form"},"That's not a valid email"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Your password here",ref:s({required:!0})}),o.password&&l.a.createElement("p",{className:"error-form"},"Password is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link is-light",type:"submit"},"Login"))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("p",null,"Don't have an account?",l.a.createElement(i.b,{to:"/signup"}," Signup"))))))))))},j=t(75),A=t(79),C=function(e){var a=e.component,t=e.user,n=Object(A.a)(e,["component","user"]);return console.log(Object(j.a)({component:a,user:t},n)),l.a.createElement(m.b,Object.assign({},n,{render:function(e){return t?l.a.createElement(a,Object.assign({},e,{loggedInUser:t})):l.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))},P=function(e){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-content"},l.a.createElement("div",{class:"media"},l.a.createElement("div",{class:"media-left"},l.a.createElement("figure",{class:"image is-48x48"},l.a.createElement("img",{src:"https://bulma.io/images/placeholders/96x96.png",alt:"Placeholder image"}))),l.a.createElement("div",{class:"media-content"},l.a.createElement("p",{class:"title is-4"},e.loggedInUser.name," ",e.loggedInUser.lastname),l.a.createElement("p",{class:"subtitle is-6"},"admin"===e.loggedInUser.role?"Administrator":"User"))),l.a.createElement("div",{class:"content"},l.a.createElement("p",{class:"title is-5"},e.loggedInUser.store),l.a.createElement("p",{class:"subtitle is-6"},"Email: ",e.loggedInUser.username)))))))},U=function(e){var a,t,n,r,c=Object(b.a)(),s=c.register,i=c.errors,m=c.handleSubmit;return l.a.createElement("form",{id:"user-add-form",onSubmit:m((function(a){a.store=e.user.store,E.a.post("".concat("https://kwike-pos.herokuapp.com/api","/users/add"),a,{withCredentials:!0}).then((function(){e.getData(),v.a.fire({title:"User Created!",icon:"success"}),document.getElementById("user-add-form").reset()})).catch((function(e){console.log(e),401===e.response.status?v.a.fire({title:"Wow!",text:"Email already asociated with another account",icon:"warning",confirmButtonText:"Try another one"}):v.a.fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"Try again"})}))})),className:"box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"name",type:"text",ref:s({required:!0})}),i.name&&l.a.createElement("p",{className:"error-form"},"A name is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Lastname"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"lastname",type:"text",ref:s({required:!0})}),i.lastname&&l.a.createElement("p",{className:"error-form"},"A lastname is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"username",type:"text",ref:s({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(a=i.username)||void 0===a?void 0:a.type)&&l.a.createElement("p",{className:"error-form"},"An email is required"),"pattern"===(null===(t=i.username)||void 0===t?void 0:t.type)&&l.a.createElement("p",{className:"error-form"},"That's not a valid email"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"password",type:"password",ref:s({required:!0,minLength:8})}),"required"===(null===(n=i.password)||void 0===n?void 0:n.type)&&l.a.createElement("p",{className:"error-form"},"An password is required"),"minLength"===(null===(r=i.password)||void 0===r?void 0:r.type)&&l.a.createElement("p",{className:"error-form"},"Must be 8 characters at least"))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Role"),l.a.createElement("div",{class:"control"},l.a.createElement("div",{class:"select"},l.a.createElement("select",{name:"role",ref:s({required:!0})},l.a.createElement("option",{value:""},"Select an option"),l.a.createElement("option",{value:"user"},"User"),l.a.createElement("option",{value:"admin"},"Admin")),i.role&&l.a.createElement("p",{className:"error-form"},"Please select a role")))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{class:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary"},"Add New"))))},B=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),r=t[0],c=t[1],m=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/users"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){m()}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column",id:"user-table"},l.a.createElement("table",{className:"table is-striped is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,r.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,"admin"===e.role?"Administrator":"User"),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-info is-outlined is-small"},l.a.createElement(i.b,{to:"users/detail/"+e._id},"Details"))))}))))),l.a.createElement("div",{className:"column"},l.a.createElement(U,{user:e.loggedInUser,getData:m}))))},T=function(){var e=Object(m.h)().id,a=Object(m.g)(),t=Object(n.useState)([{name:"",lastname:"",store:"",username:"",password:"",role:""}]),r=Object(s.a)(t,2),c=r[0],o=r[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/users/detail/").concat(e),{withCredentials:!0}).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-7"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"title is-"},"Store: ",c.store),l.a.createElement("p",{className:"title is-2"},"Name: ",c.name),l.a.createElement("p",{className:"subtitle is-2"},"Lastname: ",c.lastname),l.a.createElement("p",{className:"title is-3"},"Email: ",c.username),l.a.createElement("p",{className:"subtitle is-3"},"Role: ","admin"===c.role?"Administrator":"User")),l.a.createElement("footer",{class:"card-footer"},l.a.createElement("button",{className:"card-footer-item button is-link is-outlined"},l.a.createElement(i.b,{to:"/users/update/"+e},"Edit")),l.a.createElement("button",{onClick:function(){v.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(E.a.delete("".concat("https://kwike-pos.herokuapp.com/api","/users/detail/").concat(e),{withCredentials:!0}).then((function(){a.push("/users")})).catch((function(e){console.log(e)})),v.a.fire("Deleted!","The user has been deleted.","success"))}))},className:"card-footer-item button is-danger is-outlined"},"Delete"))))))},D=function(){var e,a,t,r,c=Object(m.h)().id,i=Object(m.g)(),o=Object(b.a)(),u=o.register,d=o.errors,p=o.handleSubmit,f=Object(n.useState)({name:"",lastname:"",username:"",password:"",role:""}),h=Object(s.a)(f,2),N=h[0],g=h[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/users/detail/").concat(c),{withCredentials:!0}).then((function(e){g(e.data)})).catch((function(e){return console.log(e)}))};return l.a.createElement("div",{className:"container"},l.a.createElement("form",{id:"user-add-form",onSubmit:p((function(e){E.a.put("".concat("https://kwike-pos.herokuapp.com/api","/users/detail/").concat(c),e,{withCredentials:!0}).then((function(){v.a.fire({title:"User updated",icon:"success"}).then((function(e){e.value&&i.push("/users/detail/".concat(c))}))})).catch((function(e){return console.log(e)}))})),className:"box"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"name",type:"text",defaultValue:N.name,ref:u({required:!0})}),d.name&&l.a.createElement("p",{className:"error-form"},"A name is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Lastname"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"lastname",type:"text",defaultValue:N.lastname,ref:u({required:!0})}),d.lastname&&l.a.createElement("p",{className:"error-form"},"A lastname is required"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Email"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"username",type:"text",defaultValue:N.username,ref:u({required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}),"required"===(null===(e=d.username)||void 0===e?void 0:e.type)&&l.a.createElement("p",{className:"error-form"},"An email is required"),"pattern"===(null===(a=d.username)||void 0===a?void 0:a.type)&&l.a.createElement("p",{className:"error-form"},"That's not a valid email"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"password",type:"password",defaultValue:N.password,ref:u({required:!0,minLength:8})}),"required"===(null===(t=d.password)||void 0===t?void 0:t.type)&&l.a.createElement("p",{className:"error-form"},"An password is required"),"minLength"===(null===(r=d.password)||void 0===r?void 0:r.type)&&l.a.createElement("p",{className:"error-form"},"Must be 8 characters at least"))),l.a.createElement("div",{class:"field"},l.a.createElement("label",{class:"label"},"Role"),l.a.createElement("div",{class:"control"},l.a.createElement("div",{class:"select"},l.a.createElement("select",{name:"role",ref:u({required:!0})},l.a.createElement("option",{value:""},"Select an option"),l.a.createElement("option",{value:"user"},"User"),l.a.createElement("option",{value:"admin"},"Admin")),l.a.createElement("span",null,d.role&&l.a.createElement("p",{className:"error-form"},"Please select a role"))))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{class:"control"},l.a.createElement("button",{type:"submit",className:"button is-primary"},"Update User")))))},I=t(76),_=t.n(I),$=(t(109),function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),r=t[0],c=t[1],m=Object(n.useState)(new Date),o=Object(s.a)(m,2),u=o[0],d=o[1],p=Object(n.useState)(0),f=Object(s.a)(p,2),b=f[0],h=f[1];Object(n.useEffect)((function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/sales"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[]);var v=r.map((function(e){return e.convertedTime=new Date(e.createdAt).setHours(0,0,0,0),e})).filter((function(e){return e.convertedTime===u.setHours(0,0,0,0)}));return Object(n.useEffect)((function(){!function(){var e=0;v.forEach((function(a){e+=a.total})),h(e)}()})),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("p",{className:"title is-2"},"All sales"),l.a.createElement("div",{className:"container",id:"reports-sale-column"},l.a.createElement("table",{className:"table is-striped is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sale ID"),l.a.createElement("th",null,"Total Sale"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,r.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e._id),l.a.createElement("td",null,"$",e.total),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-info is-outlined is-small"},l.a.createElement(i.b,{to:"sales/detail/"+e._id},"Details"))))})))))),l.a.createElement("div",{className:"column"},l.a.createElement("p",{className:"title is-2"},"Sales by date"),l.a.createElement("p",{className:"title is-4"},"Pick a date"),l.a.createElement(_.a,{selected:u,onChange:function(e){return d(e)}}),l.a.createElement("div",{id:"reports-table"},l.a.createElement("table",{className:"table is-striped is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sale ID"),l.a.createElement("th",null,"Total Sale"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,v.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e._id),l.a.createElement("td",null,"$",e.total),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-info is-outlined is-small"},l.a.createElement(i.b,{to:"sales/detail/"+e._id},"Details"))))}))))),l.a.createElement("p",{className:"title is-3"},"Day's Sales: $",b))))}),L=function(){var e=Object(m.h)().id,a=Object(n.useState)({salesMan:{},sale:[]}),t=Object(s.a)(a,2),r=t[0],c=t[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){E.a.get("".concat("https://kwike-pos.herokuapp.com/api","/sales/detail/").concat(e),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))};return console.log(r),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-7"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"subtitle is-3"},"Sale ",r._id),l.a.createElement("table",{className:"table is-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Barcode"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Subtotal"))),l.a.createElement("tbody",null,r.sale.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.barcode),l.a.createElement("td",null,e.name),l.a.createElement("td",null,"$",e.price),l.a.createElement("td",null,e.quantity),l.a.createElement("td",null,"$",e.subtotal))}))),l.a.createElement("p",{className:"title is-6"},"Total $",r.total),l.a.createElement("p",null,"Made by: ",r.salesMan.name," ",r.salesMan.lastname),l.a.createElement("p",null,"On date: ",new Date(r.createdAt).getDate(),"-",new Date(r.createdAt).getMonth(),"-",new Date(r.createdAt).getFullYear())))))))},M=function(e){return l.a.createElement("footer",{id:"general-footer"},l.a.createElement("div",{class:"content has-text-centered"},l.a.createElement("p",null,l.a.createElement("strong",null,"Kwik-E POS")," by ",l.a.createElement("a",{href:"https://github.com/gusocb"},"Gustavo Cruz"),". Ironhack 2020.")))};var V=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],r=a[1],c=new p,u=function(e){r(e)};return null===t&&c.loggedin().then((function(e){r(e)})).catch((function(e){r(!1)})),t?l.a.createElement(i.a,null,l.a.createElement(f,{getUser:u,userInSession:t}),l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/",exact:!0,component:o}),l.a.createElement(C,{user:t,path:"/products",exact:!0,component:g}),l.a.createElement(C,{user:t,path:"/products/detail/:id",exact:!0,component:w}),l.a.createElement(C,{user:t,path:"/products/update/:id",exact:!0,component:y}),l.a.createElement(C,{user:t,path:"/sales",exact:!0,component:S}),l.a.createElement(C,{user:t,path:"/dashboard",exact:!0,component:P}),l.a.createElement(C,{user:t,path:"/users",exact:!0,component:B}),l.a.createElement(C,{user:t,path:"/users/detail/:id",exact:!0,component:T}),l.a.createElement(C,{user:t,path:"/users/update/:id",exact:!0,component:D}),l.a.createElement(C,{user:t,path:"/reports",exact:!0,component:$}),l.a.createElement(C,{user:t,path:"/sales/detail/:id",exact:!0,component:L})),l.a.createElement(M,null)):l.a.createElement(i.a,null,l.a.createElement(f,{userInSession:t}),l.a.createElement(m.d,null,l.a.createElement(m.b,{exact:!0,path:"/signup",render:function(){return l.a.createElement(O,{getUser:u})}}),l.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return l.a.createElement(q,{getUser:u})}}),l.a.createElement(m.b,{path:"/",exact:!0,component:o}),l.a.createElement(C,{user:t,path:"/products",exact:!0,component:g}),l.a.createElement(C,{user:t,path:"/products/detail/:id",exact:!0,component:w}),l.a.createElement(C,{user:t,path:"/products/update/:id",exact:!0,component:y}),l.a.createElement(C,{user:t,path:"/sales",exact:!0,component:S}),l.a.createElement(C,{user:t,path:"/dashboard",exact:!0,component:P}),l.a.createElement(C,{user:t,path:"/users",exact:!0,component:B}),l.a.createElement(C,{user:t,path:"/users/detail/:id",exact:!0,component:T}),l.a.createElement(C,{user:t,path:"/users/update/:id",exact:!0,component:D}),l.a.createElement(C,{user:t,path:"/reports",exact:!0,component:$}),l.a.createElement(C,{user:t,path:"/sales/detail/:id",exact:!0,component:L})),l.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,a,t){e.exports=t(167)},85:function(e,a,t){},86:function(e,a,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.99f98f8e.chunk.js.map